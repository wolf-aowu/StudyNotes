# SQL

## 概念

SQL（sequel）：结构化查询语言。几乎所有重要的 DBMS 都支持 SQL。许多 DBMS 厂商通过增加语句或指令，对 SQL 进行了扩展。这种扩展的目的是提供执行特定操作的额外功能或简化方法。虽然这种扩展很有用，但一般都是针对个别 DBMS 的，很少有两个以上的供应商支持这种扩展。 标准 SQL 由 ANSI 标准委员会管理，从而称为 ANSI SQL。所有主要的 DBMS，即使有自己的扩展，也都支持 ANSI SQL。各个实现有自己的名称，如 PL/SQL、Transact-SQL 等。

数据库（database）：保存有组织的数据的容器。

数据库管理系统（DBMS）：数据库软件。

表（table）：某种特定类型数据的结构化清单。存储在表中的数据应为<font color = skyblue>同一种类型</font>的数据或清单，否则会使以后检索和访问很困难。在同一个数据库中表名应具有唯一性，但不同的数据库之间可以使用相同的表明。

模式（schema）：关于数据库和表的布局及特性的信息。表具有一些特性，这些特性定义了数据在表中如何存储，包含什么样的数据，数据如何分解，各部分信息如何命名等信息，这组信息被称为模式。模式可以用来描述数据库中特定的表，也可以用来描述整个数据库和其中表的关系。

### 表

#### 列（column）

<font color = skyblue>正确地将数据分成多列是极为重要的。</font>例如：城市、区、邮政编码应该总是彼此独立的列。通过分解这些数据，才能利用特定的列对数据进行分类和过滤。如果将城市和区组合在一列，则按区进行分类或过滤就会很困难。可以根据自己的具体需求来决定把数据分解到何种程度。例如：一般可以把门牌号和街道名一起存储在地址中，如果有按街道名排序的需求，最好将街道名和门牌号分开。

数据库中每隔列都有相应的数据类型（datatype），它定义了列可以存储哪些数据种类。数据类型限定了可存储在列中的数据种类，<font color = skyblue>防止在数值字段中录入字符值</font>。数据理性还能帮助<font color = skyblue>正确地分类数据</font>，并在<font color = skyblue>优化磁盘</font>使用方面起重要的作用。数据类型是 SQL 不兼容的主要原因。虽然大多数基本数据类型得到了一致的支持，但许多高级的数据类型却没有。更糟的是，偶然会有相同的数据类型在不同的 DBMS 中具有不同的名称。

#### 行（row）

表中的数据是按行存储的，所保存的每个记录存储在自己的行内。

#### 主键（primary key）

一列 或 一组列，其值能够唯一标识表中每一行。

虽然并不是总需要主键，但多数数据库设计者都会保证他们<font color = skyblue>创建的每个表具有一个主键</font>。因为没有主键，更新或删除表中特定行就极为困难，不能保证操作只涉及相关的行。

表中的作为主键的列需要满足以下条件：

1. 任意两行都不具有相同的主键值
2. 每一行都必须具有一个主键值（主键列不允许 NULL 值）
3. 主键列中的值不允许修改或更新
4. 主键值不能重用（如果某行从表中删除，它的主键不能赋给以后的新行）

主键通常定义在表的一列上，但也可以使用多个列一起作为主键。<font color = skyblue>使用多列作为主键时，上述条件必须应用到所有列，所有列值的组合必须时唯一，但单个列的值可以不唯一。</font>

#### 外键

<font color = grass>留坑，后面填</font>

